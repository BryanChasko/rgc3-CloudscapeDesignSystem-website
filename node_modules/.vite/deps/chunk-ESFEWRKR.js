import {
  __rest,
  clsx_m_default
} from "./chunk-CHBULPAM.js";
import {
  __toESM,
  require_react
} from "./chunk-S2TLTWWO.js";

// node_modules/@cloudscape-design/components/internal/components/live-region/index.js
var import_react2 = __toESM(require_react());

// node_modules/@cloudscape-design/components/internal/components/screenreader-only/index.js
var import_react = __toESM(require_react());

// node_modules/@cloudscape-design/components/internal/components/screenreader-only/styles.css.js
import "/home/bryanchasko/code/rgc3/node_modules/@cloudscape-design/components/internal/components/screenreader-only/styles.scoped.css";
var styles_css_default = {
  "root": "awsui_root_xttbq_pgwjg_99"
};

// node_modules/@cloudscape-design/components/internal/components/screenreader-only/index.js
function ScreenreaderOnly(props) {
  return import_react.default.createElement("span", Object.assign({}, props, { className: clsx_m_default(styles_css_default.root, props.className) }));
}

// node_modules/@cloudscape-design/components/internal/components/live-region/styles.css.js
import "/home/bryanchasko/code/rgc3/node_modules/@cloudscape-design/components/internal/components/live-region/styles.scoped.css";
var styles_css_default2 = {
  "root": "awsui_root_3bgfn_im8v7_5"
};

// node_modules/@cloudscape-design/components/internal/components/live-region/index.js
var live_region_default = (0, import_react2.memo)(LiveRegion);
function LiveRegion(_a) {
  var { assertive = false, delay = 10, visible = false, tagName: TagName = "span", children, id, source } = _a, restProps = __rest(_a, ["assertive", "delay", "visible", "tagName", "children", "id", "source"]);
  const sourceRef = (0, import_react2.useRef)(null);
  const targetRef = (0, import_react2.useRef)(null);
  (0, import_react2.useEffect)(() => {
    function getSourceContent() {
      if (source) {
        return source.map((item) => {
          if (!item) {
            return void 0;
          }
          if (typeof item === "string") {
            return item;
          }
          if (item.current) {
            return extractInnerText(item.current);
          }
        }).filter(Boolean).join(" ");
      }
      if (sourceRef.current) {
        return extractInnerText(sourceRef.current);
      }
    }
    function updateLiveRegion() {
      const sourceContent = getSourceContent();
      if (targetRef.current && sourceContent) {
        const targetContent = extractInnerText(targetRef.current);
        if (targetContent !== sourceContent) {
          targetRef.current.innerText = sourceContent;
        }
      }
    }
    let timeoutId;
    if (delay) {
      timeoutId = setTimeout(updateLiveRegion, delay);
    } else {
      updateLiveRegion();
    }
    return () => {
      if (timeoutId) {
        clearTimeout(timeoutId);
      }
    };
  });
  return import_react2.default.createElement(
    import_react2.default.Fragment,
    null,
    visible && !source && import_react2.default.createElement(TagName, { ref: sourceRef, id }, children),
    import_react2.default.createElement(
      ScreenreaderOnly,
      Object.assign({}, restProps, { className: clsx_m_default(styles_css_default2.root, restProps.className) }),
      !visible && !source && import_react2.default.createElement(TagName, { ref: sourceRef, "aria-hidden": "true" }, children),
      import_react2.default.createElement("span", { ref: targetRef, "aria-atomic": "true", "aria-live": assertive ? "assertive" : "polite" })
    )
  );
}
function extractInnerText(node) {
  return (node.innerText || "").replace(/\s+/g, " ").trim();
}

export {
  ScreenreaderOnly,
  live_region_default
};
//# sourceMappingURL=chunk-ESFEWRKR.js.map
