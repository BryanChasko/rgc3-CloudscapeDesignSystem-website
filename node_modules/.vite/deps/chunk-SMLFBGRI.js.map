{
  "version": 3,
  "sources": ["../../@cloudscape-design/collection-hooks/mjs/use-collection.js", "../../@cloudscape-design/collection-hooks/mjs/operations/filter.js", "../../@cloudscape-design/collection-hooks/mjs/date-utils/parse-iso-date.js", "../../@cloudscape-design/collection-hooks/mjs/date-utils/compare-dates.js", "../../@cloudscape-design/collection-hooks/mjs/operations/property-filter.js", "../../@cloudscape-design/collection-hooks/mjs/operations/sort.js", "../../@cloudscape-design/collection-hooks/mjs/operations/pagination.js", "../../@cloudscape-design/collection-hooks/mjs/operations/items-tree.js", "../../@cloudscape-design/collection-hooks/mjs/operations/compose-filters.js", "../../@cloudscape-design/collection-hooks/mjs/operations/index.js", "../../@cloudscape-design/collection-hooks/mjs/utils.js", "../../@cloudscape-design/collection-hooks/mjs/use-collection-state.js"],
  "sourcesContent": ["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\nimport { processItems, processSelectedItems, itemsAreEqual } from './operations/index.js';\nimport { createSyncProps } from './utils.js';\nimport { useCollectionState } from './use-collection-state.js';\nexport function useCollection(allItems, options) {\n    var collectionRef = useRef(null);\n    var _a = useCollectionState(options, collectionRef), state = _a[0], actions = _a[1];\n    var _b = processItems(allItems, state, options), items = _b.items, allPageItems = _b.allPageItems, pagesCount = _b.pagesCount, filteredItemsCount = _b.filteredItemsCount, actualPageIndex = _b.actualPageIndex, itemsTree = _b.itemsTree;\n    var expandedItemsSet = new Set();\n    if (options.expandableRows) {\n        for (var _i = 0, _c = state.expandedItems; _i < _c.length; _i++) {\n            var item = _c[_i];\n            expandedItemsSet.add(options.expandableRows.getId(item));\n        }\n    }\n    var visibleItems = items;\n    if (options.expandableRows) {\n        var flatItems_1 = new Array();\n        var getId_1 = options.expandableRows.getId;\n        var traverse_1 = function (items) {\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n                var item = items_1[_i];\n                flatItems_1.push(item);\n                if (expandedItemsSet.has(getId_1(item))) {\n                    traverse_1(itemsTree.getChildren(item));\n                }\n            }\n        };\n        traverse_1(items);\n        visibleItems = flatItems_1;\n    }\n    // Removing selected items that are no longer present in items unless keepSelection=true.\n    if (options.selection && !options.selection.keepSelection) {\n        var newSelectedItems = processSelectedItems(visibleItems, state.selectedItems, options.selection.trackBy);\n        if (!itemsAreEqual(newSelectedItems, state.selectedItems, options.selection.trackBy)) {\n            // This is a recommended pattern for how to handle the state, dependent on the incoming props\n            // https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n            actions.setSelectedItems(newSelectedItems);\n        }\n    }\n    // Removing expanded items that are no longer present in items.\n    if (options.expandableRows) {\n        var newExpandedItems = visibleItems.filter(function (item) { return expandedItemsSet.has(options.expandableRows.getId(item)); });\n        if (!itemsAreEqual(newExpandedItems, state.expandedItems, options.expandableRows.getId)) {\n            actions.setExpandedItems(newExpandedItems);\n        }\n    }\n    return __assign({ items: items, allPageItems: allPageItems, filteredItemsCount: filteredItemsCount, actions: actions }, createSyncProps(options, state, actions, collectionRef, {\n        actualPageIndex: actualPageIndex,\n        pagesCount: pagesCount,\n        allItems: allItems,\n        allPageItems: allPageItems,\n        itemsTree: itemsTree,\n    }));\n}\n", "function defaultFilteringFunction(item, filteringText, filteringFields) {\n    if (filteringText.length === 0) {\n        return true;\n    }\n    filteringFields = filteringFields || Object.keys(item);\n    var lowFilteringText = filteringText.toLowerCase();\n    return filteringFields.some(function (key) {\n        return String(item[key])\n            .toLowerCase()\n            .indexOf(lowFilteringText) > -1;\n    });\n}\nexport function createFilterPredicate(filtering, filteringText) {\n    var _a;\n    if (filteringText === void 0) { filteringText = ''; }\n    if (!filtering) {\n        return null;\n    }\n    var filteringFunction = (_a = filtering.filteringFunction) !== null && _a !== void 0 ? _a : defaultFilteringFunction;\n    return function (item) { return filteringFunction(item, filteringText, filtering.fields); };\n}\n// Keeping this function as there are customers depending on it.\nexport function filter(items, filteringText, filteringOptions) {\n    if (filteringText === void 0) { filteringText = ''; }\n    var predicate = createFilterPredicate(filteringOptions, filteringText);\n    return predicate ? items.filter(predicate) : items;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport function parseIsoDate(isoDate) {\n    if (typeof isoDate === 'string') {\n        if (isoDate.includes('T')) {\n            return new Date(isoDate);\n        }\n        else {\n            return new Date(isoDate + 'T00:00:00');\n        }\n    }\n    return new Date(NaN);\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { parseIsoDate } from './parse-iso-date.js';\n/**\n * Compares dates up to a day.\n * @param date - item value as Date.\n * @param dateToCompare - token value as ISO8601 date string.\n * @returns diff in milliseconds between date and dateToCompare with a step of one day.\n */\nexport function compareDates(date, dateToCompare) {\n    if (date instanceof Date && typeof dateToCompare === 'string') {\n        return startOfDay(date).getTime() - startOfDay(parseIsoDate(dateToCompare)).getTime();\n    }\n    return NaN;\n}\n/**\n * Compares dates up to a millisecond.\n * @param date - item value as Date.\n * @param dateToCompare - token value as ISO8601 date string.\n * @returns diff in milliseconds between date and dateToCompare with a step of one millisecond.\n */\nexport function compareTimestamps(date, dateToCompare) {\n    if (date instanceof Date && typeof dateToCompare === 'string') {\n        return date.getTime() - parseIsoDate(dateToCompare).getTime();\n    }\n    return NaN;\n}\nfunction startOfDay(date) {\n    var copy = new Date(date.getTime());\n    copy.setHours(0, 0, 0, 0);\n    return copy;\n}\n", "import { compareDates, compareTimestamps } from '../date-utils/compare-dates.js';\nvar filterUsingOperator = function (itemValue, tokenValue, _a) {\n    var operator = _a.operator, match = _a.match;\n    if (match === 'date' || match === 'datetime') {\n        var comparator = match === 'date' ? compareDates : compareTimestamps;\n        var comparisonResult = comparator(itemValue, tokenValue);\n        switch (operator) {\n            case '<':\n                return comparisonResult < 0;\n            case '<=':\n                return comparisonResult <= 0;\n            case '>':\n                return comparisonResult > 0;\n            case '>=':\n                return comparisonResult >= 0;\n            case '=':\n                return comparisonResult === 0;\n            case '!=':\n                return comparisonResult !== 0;\n            default:\n                return false;\n        }\n    }\n    else if (typeof match === 'function') {\n        return match(itemValue, tokenValue);\n    }\n    else if (match) {\n        throw new Error('Unsupported `operator.match` type given.');\n    }\n    switch (operator) {\n        case '<':\n            return itemValue < tokenValue;\n        case '<=':\n            return itemValue <= tokenValue;\n        case '>':\n            return itemValue > tokenValue;\n        case '>=':\n            return itemValue >= tokenValue;\n        case '=':\n            // eslint-disable-next-line eqeqeq\n            return itemValue == tokenValue;\n        case '!=':\n            // eslint-disable-next-line eqeqeq\n            return itemValue != tokenValue;\n        case ':':\n            return (itemValue + '').toLowerCase().indexOf((tokenValue + '').toLowerCase()) > -1;\n        case '!:':\n            return (itemValue + '').toLowerCase().indexOf((tokenValue + '').toLowerCase()) === -1;\n        case '^':\n            return (itemValue + '').toLowerCase().startsWith((tokenValue + '').toLowerCase());\n        case '!^':\n            return !(itemValue + '').toLowerCase().startsWith((tokenValue + '').toLowerCase());\n        // The unsupported operators result in an exception being thrown.\n        // The exception can be avoided if using the match function.\n        default:\n            throw new Error('Unsupported operator given.');\n    }\n};\nfunction freeTextFilter(value, item, operator, filteringPropertiesMap) {\n    // If the operator is not a negation, we just need one property of the object to match.\n    // If the operator is a negation, we want none of the properties of the object to match.\n    var isNegation = operator.startsWith('!');\n    return Object.keys(filteringPropertiesMap)[isNegation ? 'every' : 'some'](function (propertyKey) {\n        var operators = filteringPropertiesMap[propertyKey].operators;\n        var propertyOperator = operators[operator];\n        if (!propertyOperator) {\n            return isNegation;\n        }\n        return filterUsingOperator(item[propertyKey], value, propertyOperator);\n    });\n}\nfunction filterByToken(token, item, filteringPropertiesMap) {\n    if (token.propertyKey) {\n        // token refers to a unknown property or uses an unsupported operator\n        if (!(token.propertyKey in filteringPropertiesMap) ||\n            !(token.operator in filteringPropertiesMap[token.propertyKey].operators)) {\n            return false;\n        }\n        var operator = filteringPropertiesMap[token.propertyKey].operators[token.operator];\n        var itemValue = (operator === null || operator === void 0 ? void 0 : operator.match)\n            ? item[token.propertyKey]\n            : fixupFalsyValues(item[token.propertyKey]);\n        return filterUsingOperator(itemValue, token.value, operator !== null && operator !== void 0 ? operator : { operator: token.operator });\n    }\n    return freeTextFilter(token.value, item, token.operator, filteringPropertiesMap);\n}\nfunction defaultFilteringFunction(filteringPropertiesMap) {\n    return function (item, _a) {\n        var tokens = _a.tokens, operation = _a.operation;\n        var result = operation === 'and' ? true : !tokens.length;\n        for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n            var token = tokens_1[_i];\n            result =\n                operation === 'and'\n                    ? result && filterByToken(token, item, filteringPropertiesMap)\n                    : result || filterByToken(token, item, filteringPropertiesMap);\n        }\n        return result;\n    };\n}\nexport function createPropertyFilterPredicate(propertyFiltering, query) {\n    if (query === void 0) { query = { tokens: [], operation: 'and' }; }\n    if (!propertyFiltering) {\n        return null;\n    }\n    var filteringPropertiesMap = propertyFiltering.filteringProperties.reduce(function (acc, _a) {\n        var _b;\n        var key = _a.key, operators = _a.operators, defaultOperator = _a.defaultOperator;\n        var operatorMap = (_b = {}, _b[defaultOperator !== null && defaultOperator !== void 0 ? defaultOperator : '='] = { operator: defaultOperator !== null && defaultOperator !== void 0 ? defaultOperator : '=' }, _b);\n        operators === null || operators === void 0 ? void 0 : operators.forEach(function (op) {\n            if (typeof op === 'string') {\n                operatorMap[op] = { operator: op };\n            }\n            else {\n                operatorMap[op.operator] = { operator: op.operator, match: op.match };\n            }\n        });\n        acc[key] = {\n            operators: operatorMap,\n        };\n        return acc;\n    }, {});\n    var filteringFunction = propertyFiltering.filteringFunction || defaultFilteringFunction(filteringPropertiesMap);\n    return function (item) { return filteringFunction(item, query); };\n}\nexport var fixupFalsyValues = function (value) {\n    if (typeof value === 'boolean') {\n        return value + '';\n    }\n    if (value || value === 0) {\n        return value;\n    }\n    return '';\n};\n// Keeping this function as there are customers depending on it.\nexport function propertyFilter(items, query, propertyFiltering) {\n    var predicate = createPropertyFilterPredicate(propertyFiltering, query);\n    return predicate ? items.filter(predicate) : items;\n}\n", "function getSorter(sortingField) {\n    if (!sortingField) {\n        return null;\n    }\n    return function (row1, row2) {\n        var _a, _b;\n        // Use empty string as a default value, because it works well to compare with both strings and numbers:\n        // Every number can be casted to a string, but not every string can be casted to a meaningful number,\n        // sometimes it is NaN.\n        var value1 = (_a = row1[sortingField]) !== null && _a !== void 0 ? _a : '';\n        var value2 = (_b = row2[sortingField]) !== null && _b !== void 0 ? _b : '';\n        if (typeof value1 === 'string' && typeof value2 === 'string') {\n            return value1.localeCompare(value2);\n        }\n        // use loose comparison to handle inconsistent data types\n        // eslint-disable-next-line eqeqeq\n        return value1 < value2 ? -1 : value1 == value2 ? 0 : 1;\n    };\n}\nexport function createComparator(sorting, state) {\n    var _a;\n    if (!sorting || !state) {\n        return null;\n    }\n    var direction = state.isDescending ? -1 : 1;\n    var comparator = (_a = state.sortingColumn.sortingComparator) !== null && _a !== void 0 ? _a : getSorter(state.sortingColumn.sortingField);\n    return comparator ? function (a, b) { return comparator(a, b) * direction; } : null;\n}\n// Keeping this function as there are customers depending on it.\nexport function sort(items, state) {\n    var comparator = createComparator({}, state);\n    return comparator ? items.slice().sort(comparator) : items;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar DEFAULT_PAGE_SIZE = 10;\nexport function createPageProps(pagination, currentPageIndex, items) {\n    var _a;\n    if (!pagination) {\n        return null;\n    }\n    var pageSize = (_a = pagination.pageSize) !== null && _a !== void 0 ? _a : DEFAULT_PAGE_SIZE;\n    var pagesCount = Math.ceil(items.length / pageSize);\n    var pageIndex = currentPageIndex !== null && currentPageIndex !== void 0 ? currentPageIndex : 1;\n    if (pageIndex < 1 || pageIndex > pagesCount || Number.isNaN(pageIndex)) {\n        pageIndex = 1;\n    }\n    return { pageSize: pageSize, pagesCount: pagesCount, pageIndex: pageIndex };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar ItemsTree = /** @class */ (function () {\n    function ItemsTree(items, treeProps) {\n        var _this = this;\n        var _a;\n        this.size = 0;\n        this.hasNesting = false;\n        this.roots = new Array();\n        this.idToChildren = new Map();\n        this.filter = function (predicate) {\n            if (!_this.hasNesting) {\n                _this.items = _this.items.filter(predicate);\n                _this.size = _this.items.length;\n            }\n            else {\n                _this.filterTree(predicate);\n            }\n            return _this;\n        };\n        this.sort = function (comparator) {\n            if (!_this.hasNesting) {\n                _this.items = _this.items.slice().sort(comparator);\n            }\n            else {\n                _this.sortTree(comparator);\n            }\n            return _this;\n        };\n        this.getChildren = function (item) {\n            var _a;\n            return (_a = (_this.treeProps && _this.idToChildren.get(_this.treeProps.getId(item)))) !== null && _a !== void 0 ? _a : [];\n        };\n        this.getItems = function () {\n            if (_this.hasNesting) {\n                return _this.roots;\n            }\n            return _this.items;\n        };\n        this.getSize = function () {\n            return _this.size;\n        };\n        this.filterTree = function (predicate) {\n            var filterNode = function (item) {\n                var children = _this.getChildren(item);\n                var filteredChildren = children.filter(filterNode);\n                _this.size -= children.length - filteredChildren.length;\n                _this.setChildren(item, filteredChildren);\n                return predicate(item) || filteredChildren.length > 0;\n            };\n            var roots = _this.roots;\n            _this.roots = _this.roots.filter(filterNode);\n            _this.size -= roots.length - _this.roots.length;\n        };\n        this.sortTree = function (comparator) {\n            var sortLevel = function (items) {\n                items.sort(comparator);\n                for (var _i = 0, items_2 = items; _i < items_2.length; _i++) {\n                    var item = items_2[_i];\n                    sortLevel(_this.getChildren(item));\n                }\n            };\n            sortLevel(_this.roots);\n        };\n        this.size = items.length;\n        this.items = items;\n        this.treeProps = treeProps;\n        if (!treeProps) {\n            return;\n        }\n        // Assign item children.\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var parentId = treeProps.getParentId(item);\n            if (parentId === null) {\n                this.roots.push(item);\n            }\n            else {\n                var children = (_a = this.idToChildren.get(parentId)) !== null && _a !== void 0 ? _a : [];\n                children.push(item);\n                this.idToChildren.set(parentId, children);\n                this.hasNesting = true;\n            }\n        }\n        // Assign item levels.\n        var traverse = function (item, level) {\n            var _a;\n            if (level === void 0) { level = 1; }\n            for (var _i = 0, _b = (_a = _this.idToChildren.get(treeProps.getId(item))) !== null && _a !== void 0 ? _a : []; _i < _b.length; _i++) {\n                var child = _b[_i];\n                traverse(child, level + 1);\n            }\n        };\n        this.roots.forEach(function (root) { return traverse(root); });\n    }\n    ItemsTree.prototype.setChildren = function (item, children) {\n        if (this.treeProps) {\n            this.idToChildren.set(this.treeProps.getId(item), children);\n        }\n    };\n    return ItemsTree;\n}());\nexport { ItemsTree };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport function composeFilters() {\n    var predicates = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        predicates[_i] = arguments[_i];\n    }\n    return predicates.some(Boolean)\n        ? function (item) {\n            for (var _i = 0, predicates_1 = predicates; _i < predicates_1.length; _i++) {\n                var predicate = predicates_1[_i];\n                if (predicate && !predicate(item)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        : null;\n}\n", "import { createFilterPredicate } from './filter.js';\nimport { createPropertyFilterPredicate } from './property-filter.js';\nimport { createComparator } from './sort.js';\nimport { createPageProps } from './pagination.js';\nimport { ItemsTree } from './items-tree.js';\nimport { composeFilters } from './compose-filters.js';\nexport function processItems(items, _a, _b) {\n    var filteringText = _a.filteringText, sortingState = _a.sortingState, currentPageIndex = _a.currentPageIndex, propertyFilteringQuery = _a.propertyFilteringQuery;\n    var filtering = _b.filtering, sorting = _b.sorting, pagination = _b.pagination, propertyFiltering = _b.propertyFiltering, expandableRows = _b.expandableRows;\n    var itemsTree = new ItemsTree(items, expandableRows);\n    var filterPredicate = composeFilters(createPropertyFilterPredicate(propertyFiltering, propertyFilteringQuery), createFilterPredicate(filtering, filteringText));\n    if (filterPredicate) {\n        itemsTree.filter(filterPredicate);\n    }\n    var comparator = createComparator(sorting, sortingState);\n    if (comparator) {\n        itemsTree.sort(comparator);\n    }\n    var allPageItems = itemsTree.getItems();\n    var filteredItemsCount = filterPredicate ? itemsTree.getSize() : undefined;\n    var pageProps = createPageProps(pagination, currentPageIndex, allPageItems);\n    if (pageProps) {\n        return {\n            items: allPageItems.slice((pageProps.pageIndex - 1) * pageProps.pageSize, pageProps.pageIndex * pageProps.pageSize),\n            allPageItems: allPageItems,\n            filteredItemsCount: filteredItemsCount,\n            pagesCount: pageProps === null || pageProps === void 0 ? void 0 : pageProps.pagesCount,\n            actualPageIndex: pageProps === null || pageProps === void 0 ? void 0 : pageProps.pageIndex,\n            itemsTree: itemsTree,\n        };\n    }\n    return {\n        items: allPageItems,\n        allPageItems: allPageItems,\n        filteredItemsCount: filteredItemsCount,\n        pagesCount: undefined,\n        actualPageIndex: undefined,\n        itemsTree: itemsTree,\n    };\n}\nexport var getTrackableValue = function (trackBy, item) {\n    if (!trackBy) {\n        return item;\n    }\n    if (typeof trackBy === 'function') {\n        return trackBy(item);\n    }\n    return item[trackBy];\n};\nexport var processSelectedItems = function (items, selectedItems, trackBy) {\n    var selectedSet = new Set();\n    selectedItems.forEach(function (item) { return selectedSet.add(getTrackableValue(trackBy, item)); });\n    return items.filter(function (item) { return selectedSet.has(getTrackableValue(trackBy, item)); });\n};\nexport var itemsAreEqual = function (items1, items2, trackBy) {\n    if (items1.length !== items2.length) {\n        return false;\n    }\n    var set1 = new Set();\n    items1.forEach(function (item) { return set1.add(getTrackableValue(trackBy, item)); });\n    return items2.every(function (item) { return set1.has(getTrackableValue(trackBy, item)); });\n};\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { fixupFalsyValues } from './operations/property-filter.js';\nexport function collectionReducer(state, action) {\n    var newState = __assign({}, state);\n    switch (action.type) {\n        case 'selection':\n            newState.selectedItems = action.selectedItems;\n            break;\n        case 'expansion':\n            newState.expandedItems = action.expandedItems;\n            break;\n        case 'filtering':\n            newState.currentPageIndex = 1;\n            newState.filteringText = action.filteringText;\n            break;\n        case 'sorting':\n            newState.currentPageIndex = 1;\n            newState.sortingState = action.sortingState;\n            break;\n        case 'pagination':\n            newState.currentPageIndex = action.pageIndex;\n            break;\n        case 'property-filtering':\n            newState.currentPageIndex = 1;\n            newState.propertyFilteringQuery = action.query;\n            break;\n    }\n    return newState;\n}\nexport function createActions(_a) {\n    var dispatch = _a.dispatch, collectionRef = _a.collectionRef;\n    return {\n        setFiltering: function (filteringText) {\n            dispatch({ type: 'filtering', filteringText: filteringText });\n            collectionRef.current && collectionRef.current.scrollToTop();\n        },\n        setSorting: function (state) {\n            dispatch({ type: 'sorting', sortingState: state });\n            collectionRef.current && collectionRef.current.scrollToTop();\n        },\n        setCurrentPage: function (pageIndex) {\n            dispatch({ type: 'pagination', pageIndex: pageIndex });\n            collectionRef.current && collectionRef.current.scrollToTop();\n        },\n        setSelectedItems: function (selectedItems) {\n            dispatch({ type: 'selection', selectedItems: selectedItems });\n        },\n        setPropertyFiltering: function (query) {\n            dispatch({ type: 'property-filtering', query: query });\n            collectionRef.current && collectionRef.current.scrollToTop();\n        },\n        setExpandedItems: function (expandedItems) {\n            dispatch({ type: 'expansion', expandedItems: expandedItems });\n        },\n    };\n}\nexport function createSyncProps(options, _a, actions, collectionRef, _b) {\n    var _c, _d, _e;\n    var filteringText = _a.filteringText, sortingState = _a.sortingState, selectedItems = _a.selectedItems, expandedItems = _a.expandedItems, currentPageIndex = _a.currentPageIndex, propertyFilteringQuery = _a.propertyFilteringQuery;\n    var pagesCount = _b.pagesCount, actualPageIndex = _b.actualPageIndex, allItems = _b.allItems, allPageItems = _b.allPageItems, itemsTree = _b.itemsTree;\n    var empty = options.filtering\n        ? allItems.length\n            ? options.filtering.noMatch\n            : options.filtering.empty\n        : null;\n    empty = options.propertyFiltering\n        ? allItems.length\n            ? options.propertyFiltering.noMatch\n            : options.propertyFiltering.empty\n        : empty;\n    var filteringOptions = options.propertyFiltering\n        ? options.propertyFiltering.filteringProperties.reduce(function (acc, property) {\n            Object.keys(allItems.reduce(function (acc, item) {\n                acc['' + fixupFalsyValues(item[property.key])] = true;\n                return acc;\n            }, {})).forEach(function (value) {\n                if (value !== '') {\n                    acc.push({\n                        propertyKey: property.key,\n                        value: value,\n                    });\n                }\n            });\n            return acc;\n        }, [])\n        : [];\n    return {\n        collectionProps: __assign(__assign(__assign(__assign(__assign({ empty: empty }, (options.sorting\n            ? {\n                onSortingChange: function (_a) {\n                    var detail = _a.detail;\n                    actions.setSorting(detail);\n                },\n                sortingColumn: sortingState === null || sortingState === void 0 ? void 0 : sortingState.sortingColumn,\n                sortingDescending: sortingState === null || sortingState === void 0 ? void 0 : sortingState.isDescending,\n            }\n            : {})), (options.expandableRows\n            ? {\n                expandableRows: {\n                    getItemChildren: function (item) {\n                        return itemsTree.getChildren(item);\n                    },\n                    isItemExpandable: function (item) {\n                        return itemsTree.getChildren(item).length > 0;\n                    },\n                    expandedItems: expandedItems,\n                    onExpandableItemToggle: function (_a) {\n                        var _b = _a.detail, item = _b.item, expanded = _b.expanded;\n                        var getId = options.expandableRows.getId;\n                        if (expanded) {\n                            for (var _i = 0, expandedItems_1 = expandedItems; _i < expandedItems_1.length; _i++) {\n                                var stateItem = expandedItems_1[_i];\n                                if (getId(stateItem) === getId(item)) {\n                                    return;\n                                }\n                            }\n                            actions.setExpandedItems(__spreadArray(__spreadArray([], expandedItems, true), [item], false));\n                        }\n                        else {\n                            actions.setExpandedItems(expandedItems.filter(function (stateItem) { return getId(stateItem) !== getId(item); }));\n                        }\n                    },\n                },\n                // The trackBy property is used to match expanded items by ID and not by object reference.\n                // The property can be overridden by the explicitly provided selection.trackBy.\n                // If that is the case, we assume both selection.trackBy and expandableRows.getId have the same result.\n                // If not, the expandable state won't be matched correctly by the table.\n                trackBy: options.expandableRows.getId,\n            }\n            : {})), (options.selection\n            ? {\n                onSelectionChange: function (_a) {\n                    var selectedItems = _a.detail.selectedItems;\n                    actions.setSelectedItems(selectedItems);\n                },\n                selectedItems: selectedItems,\n                trackBy: options.selection.trackBy,\n            }\n            : {})), { ref: collectionRef }), (((_c = options.pagination) === null || _c === void 0 ? void 0 : _c.pageSize)\n            ? {\n                totalItemsCount: allPageItems.length,\n                firstIndex: ((actualPageIndex !== null && actualPageIndex !== void 0 ? actualPageIndex : currentPageIndex) - 1) * options.pagination.pageSize + 1,\n            }\n            : {})),\n        filterProps: {\n            filteringText: filteringText,\n            onChange: function (_a) {\n                var filteringText = _a.detail.filteringText;\n                actions.setFiltering(filteringText);\n            },\n        },\n        propertyFilterProps: {\n            query: propertyFilteringQuery,\n            onChange: function (_a) {\n                var query = _a.detail;\n                actions.setPropertyFiltering(query);\n            },\n            filteringProperties: ((_d = options.propertyFiltering) === null || _d === void 0 ? void 0 : _d.filteringProperties) || [],\n            filteringOptions: filteringOptions,\n            freeTextFiltering: (_e = options.propertyFiltering) === null || _e === void 0 ? void 0 : _e.freeTextFiltering,\n        },\n        paginationProps: {\n            currentPageIndex: actualPageIndex !== null && actualPageIndex !== void 0 ? actualPageIndex : currentPageIndex,\n            // pagesCount is always calculated when options.pagination is present\n            pagesCount: pagesCount,\n            onChange: function (_a) {\n                var currentPageIndex = _a.detail.currentPageIndex;\n                actions.setCurrentPage(currentPageIndex);\n            },\n        },\n    };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useReducer } from 'react';\nimport { createActions, collectionReducer } from './utils.js';\nexport function useCollectionState(options, collectionRef) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n    var _m = useReducer(collectionReducer, {\n        selectedItems: (_b = (_a = options.selection) === null || _a === void 0 ? void 0 : _a.defaultSelectedItems) !== null && _b !== void 0 ? _b : [],\n        expandedItems: (_d = (_c = options.expandableRows) === null || _c === void 0 ? void 0 : _c.defaultExpandedItems) !== null && _d !== void 0 ? _d : [],\n        sortingState: (_e = options.sorting) === null || _e === void 0 ? void 0 : _e.defaultState,\n        currentPageIndex: (_g = (_f = options.pagination) === null || _f === void 0 ? void 0 : _f.defaultPage) !== null && _g !== void 0 ? _g : 1,\n        filteringText: (_j = (_h = options.filtering) === null || _h === void 0 ? void 0 : _h.defaultFilteringText) !== null && _j !== void 0 ? _j : '',\n        propertyFilteringQuery: (_l = (_k = options.propertyFiltering) === null || _k === void 0 ? void 0 : _k.defaultQuery) !== null && _l !== void 0 ? _l : { tokens: [], operation: 'and' },\n    }), state = _m[0], dispatch = _m[1];\n    return [\n        state,\n        createActions({\n            dispatch: dispatch,\n            collectionRef: collectionRef,\n        }),\n    ];\n}\n"],
  "mappings": "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",
  "names": ["import_react", "defaultFilteringFunction", "ItemsTree", "item", "_a", "children", "items", "_i", "_i", "acc", "_a", "_b", "stateItem", "selectedItems", "filteringText", "currentPageIndex", "__assign", "items", "_i", "item"]
}
