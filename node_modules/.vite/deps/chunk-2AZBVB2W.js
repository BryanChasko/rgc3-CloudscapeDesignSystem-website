import {
  DynamicOverlapContext
} from "./chunk-IRDBMKXJ.js";
import {
  useResizeObserver
} from "./chunk-CHBULPAM.js";
import {
  __toESM,
  require_react
} from "./chunk-S2TLTWWO.js";

// node_modules/@cloudscape-design/components/internal/hooks/use-dynamic-overlap/index.js
var import_react = __toESM(require_react());
var import_react2 = __toESM(require_react());
function useDynamicOverlap(props) {
  var _a;
  const disabled = (_a = props === null || props === void 0 ? void 0 : props.disabled) !== null && _a !== void 0 ? _a : false;
  const setDynamicOverlapHeight = (0, import_react.useContext)(DynamicOverlapContext);
  const overlapElementRef = (0, import_react2.useRef)(null);
  const getElement = (0, import_react2.useCallback)(() => overlapElementRef.current, [overlapElementRef]);
  const updateState = (0, import_react2.useCallback)((entry) => {
    if (!disabled) {
      setDynamicOverlapHeight(entry.contentBoxHeight);
    }
  }, [disabled, setDynamicOverlapHeight]);
  useResizeObserver(getElement, updateState);
  (0, import_react.useLayoutEffect)(function handleDynamicOverlapHeight() {
    return () => {
      if (!disabled) {
        setDynamicOverlapHeight(0);
      }
    };
  }, [disabled, setDynamicOverlapHeight]);
  return overlapElementRef;
}

export {
  useDynamicOverlap
};
//# sourceMappingURL=chunk-2AZBVB2W.js.map
