import {
  useModalContext
} from "./chunk-NVHTWOY2.js";
import {
  StickyHeaderContext,
  useStickyHeader
} from "./chunk-GRT2X74T.js";
import {
  useDynamicOverlap
} from "./chunk-2AZBVB2W.js";
import {
  useAppLayoutContext
} from "./chunk-KGTDQHUA.js";
import {
  getContentHeaderClassName,
  shouldRemoveHighContrastHeader
} from "./chunk-IRDBMKXJ.js";
import {
  useMobile
} from "./chunk-4K34KLGB.js";
import {
  useFunnelSubStep
} from "./chunk-GC32QG33.js";
import {
  useUniqueId
} from "./chunk-3TE4OIE4.js";
import {
  useMergeRefs
} from "./chunk-NYW4WZSZ.js";
import {
  __rest,
  clsx_m_default,
  getBaseProps,
  useVisualRefresh
} from "./chunk-CHBULPAM.js";
import {
  __toESM,
  require_react
} from "./chunk-S2TLTWWO.js";

// node_modules/@cloudscape-design/components/container/internal.js
var import_react = __toESM(require_react());

// node_modules/@cloudscape-design/components/container/styles.css.js
import "/home/bryanchasko/code/rgc3/node_modules/@cloudscape-design/components/container/styles.scoped.css";
var styles_css_default = {
  "root": "awsui_root_14iqq_v4tpg_103",
  "fit-height": "awsui_fit-height_14iqq_v4tpg_139",
  "with-side-media": "awsui_with-side-media_14iqq_v4tpg_144",
  "variant-default": "awsui_variant-default_14iqq_v4tpg_147",
  "variant-stacked": "awsui_variant-stacked_14iqq_v4tpg_147",
  "refresh": "awsui_refresh_14iqq_v4tpg_155",
  "sticky-enabled": "awsui_sticky-enabled_14iqq_v4tpg_205",
  "with-top-media": "awsui_with-top-media_14iqq_v4tpg_217",
  "content-wrapper": "awsui_content-wrapper_14iqq_v4tpg_222",
  "content-wrapper-fit-height": "awsui_content-wrapper-fit-height_14iqq_v4tpg_227",
  "media": "awsui_media_14iqq_v4tpg_234",
  "media-top": "awsui_media-top_14iqq_v4tpg_252",
  "media-side": "awsui_media-side_14iqq_v4tpg_257",
  "header": "awsui_header_14iqq_v4tpg_263",
  "header-with-media": "awsui_header-with-media_14iqq_v4tpg_268",
  "header-sticky-disabled": "awsui_header-sticky-disabled_14iqq_v4tpg_274",
  "header-sticky-enabled": "awsui_header-sticky-enabled_14iqq_v4tpg_278",
  "header-stuck": "awsui_header-stuck_14iqq_v4tpg_284",
  "header-variant-cards": "awsui_header-variant-cards_14iqq_v4tpg_294",
  "header-dynamic-height": "awsui_header-dynamic-height_14iqq_v4tpg_297",
  "with-paddings": "awsui_with-paddings_14iqq_v4tpg_303",
  "with-hidden-content": "awsui_with-hidden-content_14iqq_v4tpg_312",
  "header-variant-full-page": "awsui_header-variant-full-page_14iqq_v4tpg_370",
  "remove-high-contrast-header": "awsui_remove-high-contrast-header_14iqq_v4tpg_390",
  "dark-header": "awsui_dark-header_14iqq_v4tpg_399",
  "content": "awsui_content_14iqq_v4tpg_222",
  "content-fit-height": "awsui_content-fit-height_14iqq_v4tpg_407",
  "content-with-media": "awsui_content-with-media_14iqq_v4tpg_417",
  "footer": "awsui_footer_14iqq_v4tpg_421",
  "with-divider": "awsui_with-divider_14iqq_v4tpg_425"
};

// node_modules/@cloudscape-design/components/container/internal.js
function InternalContainerAsSubstep(props) {
  const { subStepRef, funnelSubStepProps } = useFunnelSubStep();
  const modalContext = useModalContext();
  return import_react.default.createElement(InternalContainer, Object.assign({}, props, { __subStepRef: (modalContext === null || modalContext === void 0 ? void 0 : modalContext.isInModal) ? { current: null } : subStepRef, __funnelSubStepProps: (modalContext === null || modalContext === void 0 ? void 0 : modalContext.isInModal) ? {} : funnelSubStepProps }));
}
function InternalContainer(_a) {
  var _b;
  var { header, footer, children, variant = "default", disableHeaderPaddings = false, disableContentPaddings = false, fitHeight, media, __stickyOffset, __mobileStickyOffset, __stickyHeader = false, __internalRootRef = null, __disableFooterDivider = false, __disableFooterPaddings = false, __hiddenContent = false, __headerRef, __darkHeader = false, __disableStickyMobile = true, __funnelSubStepProps, __subStepRef } = _a, restProps = __rest(_a, ["header", "footer", "children", "variant", "disableHeaderPaddings", "disableContentPaddings", "fitHeight", "media", "__stickyOffset", "__mobileStickyOffset", "__stickyHeader", "__internalRootRef", "__disableFooterDivider", "__disableFooterPaddings", "__hiddenContent", "__headerRef", "__darkHeader", "__disableStickyMobile", "__funnelSubStepProps", "__subStepRef"]);
  const isMobile = useMobile();
  const baseProps = getBaseProps(restProps);
  const rootRef = (0, import_react.useRef)(null);
  const headerRef = (0, import_react.useRef)(null);
  const { isSticky, isStuck, stickyStyles } = useStickyHeader(rootRef, headerRef, __stickyHeader, __stickyOffset, __mobileStickyOffset, __disableStickyMobile);
  const contentId = useUniqueId();
  const { setHasStickyBackground } = useAppLayoutContext();
  const isRefresh = useVisualRefresh();
  const hasDynamicHeight = isRefresh && variant === "full-page";
  const overlapElement = useDynamicOverlap({ disabled: !hasDynamicHeight || !__darkHeader });
  const mergedRef = useMergeRefs(rootRef, __internalRootRef);
  const headerMergedRef = useMergeRefs(headerRef, overlapElement, __headerRef);
  (0, import_react.useEffect)(() => {
    const shouldUpdateStickyBackground = isSticky && variant === "full-page" && setHasStickyBackground;
    if (shouldUpdateStickyBackground) {
      setHasStickyBackground(true);
    }
    return () => {
      if (shouldUpdateStickyBackground) {
        setHasStickyBackground(false);
      }
    };
  }, [isSticky, setHasStickyBackground, variant]);
  const shouldHaveStickyStyles = isSticky && !isMobile;
  const hasMedia = !!(media === null || media === void 0 ? void 0 : media.content);
  const mediaPosition = (_b = media === null || media === void 0 ? void 0 : media.position) !== null && _b !== void 0 ? _b : "top";
  return import_react.default.createElement(
    "div",
    Object.assign({}, baseProps, __funnelSubStepProps, { className: clsx_m_default(baseProps.className, styles_css_default.root, styles_css_default[`variant-${variant}`], fitHeight && styles_css_default["fit-height"], hasMedia && (mediaPosition === "side" ? styles_css_default["with-side-media"] : styles_css_default["with-top-media"]), shouldHaveStickyStyles && [styles_css_default["sticky-enabled"]], isRefresh && styles_css_default.refresh), ref: mergedRef }),
    hasMedia && import_react.default.createElement("div", { className: clsx_m_default(styles_css_default[`media-${mediaPosition === "side" ? "side" : "top"}`], styles_css_default.media), style: mediaPosition === "top" ? { height: (media === null || media === void 0 ? void 0 : media.height) || "" } : { width: (media === null || media === void 0 ? void 0 : media.width) || "" } }, media.content),
    import_react.default.createElement(
      "div",
      { id: contentId, ref: __subStepRef, className: clsx_m_default(styles_css_default["content-wrapper"], fitHeight && styles_css_default["content-wrapper-fit-height"]) },
      header && import_react.default.createElement(
        StickyHeaderContext.Provider,
        { value: { isStuck } },
        import_react.default.createElement("div", Object.assign({ className: clsx_m_default(isRefresh && styles_css_default.refresh, styles_css_default.header, styles_css_default[`header-variant-${variant}`], shouldRemoveHighContrastHeader() && styles_css_default["remove-high-contrast-header"], {
          [styles_css_default["header-sticky-disabled"]]: __stickyHeader && !isSticky,
          [styles_css_default["header-sticky-enabled"]]: isSticky,
          [styles_css_default["header-dynamic-height"]]: hasDynamicHeight,
          [styles_css_default["header-stuck"]]: isStuck,
          [styles_css_default["with-paddings"]]: !disableHeaderPaddings,
          [styles_css_default["with-hidden-content"]]: !children || __hiddenContent,
          [styles_css_default["header-with-media"]]: hasMedia
        }) }, stickyStyles, { ref: headerMergedRef }), __darkHeader ? import_react.default.createElement("div", { className: clsx_m_default(styles_css_default["dark-header"], getContentHeaderClassName()) }, header) : header)
      ),
      import_react.default.createElement("div", { className: clsx_m_default(styles_css_default.content, fitHeight && styles_css_default["content-fit-height"], shouldRemoveHighContrastHeader() && styles_css_default["remove-high-contrast-header"], {
        [styles_css_default["with-paddings"]]: !disableContentPaddings
      }) }, children),
      footer && import_react.default.createElement("div", { className: clsx_m_default(styles_css_default.footer, {
        [styles_css_default["with-divider"]]: !__disableFooterDivider,
        [styles_css_default["with-paddings"]]: !__disableFooterPaddings
      }) }, footer)
    )
  );
}

export {
  InternalContainerAsSubstep,
  InternalContainer
};
//# sourceMappingURL=chunk-Z4NCSJKF.js.map
